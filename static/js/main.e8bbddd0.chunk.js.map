{"version":3,"sources":["algorithms/plain/breadth-first-search.js","components/PlainGraph/PlainGraph.jsx","components/Graph/Vertex/Vertex.jsx","components/Graph/Edge/Edge.jsx","utils/sleep.js","actions/index.js","actions/dialog.js","algorithms/graph/index.js","actions/algorithm.js","components/Graph/VisualizationEdge/VisualizationEdge.jsx","components/Graph/Graph.jsx","components/Buttons/Buttons.jsx","components/Sliders/Sliders.jsx","components/DropDownLists/DropDownLists.jsx","components/ToggleSwitches/ToggleSwitches.jsx","utils/graphConverter.js","algorithms/graph/dfs.js","utils/queue.js","algorithms/graph/bfs.js","algorithms/graph/dijkstra.js","actions/matrixDialog.js","components/Menu/Menu.jsx","components/MessageBox/MessageBox.jsx","components/TextInputs/TextInputs.jsx","components/Dialogs/InputDialog/InputDialog.jsx","components/InfoBox/InfoBox.jsx","components/Dialogs/MatrixDialog/AdjacencyMatrix.jsx","components/Dialogs/MatrixDialog/MatrixDialog.jsx","components/App.jsx","serviceWorker.js","reducers/dialog.js","reducers/algorithm.js","reducers/matrixDialog.js","reducers/index.js","index.js","components/App.module.scss","components/PlainGraph/PlainGraph.module.scss","components/Menu/Menu.module.scss","components/Buttons/Buttons.module.scss","components/Sliders/Sliders.module.scss","components/DropDownLists/DropDownLists.module.scss","components/ToggleSwitches/ToggleSwitches.module.scss","components/MessageBox/MessageBox.module.scss","components/Dialogs/InputDialog/InputDialog.module.scss","components/TextInputs/TextInputs.module.scss","components/InfoBox/InfoBox.module.scss","components/Dialogs/MatrixDialog/MatrixDialog.module.scss","components/Dialogs/MatrixDialog/AdjacencyMatrix.module.scss"],"names":["algorithm","cells","cellStart","cellFinish","pathStatus","queue","x","y","parent","current","shift","console","log","next","node","minX","minY","maxX","maxY","res","push","neighbours","length","i","findIndex","n","cx","classnames","bind","styles","CellState","Object","freeze","EMPTY","BLOCKED","START","FINISH","PATH","Cell","status","onMouseEnter","onMouseLeave","className","React","Component","Vertex","radius","name","this","state","VertexState","DEFAULT","hint","hintState","VertexHintState","CLEAR","HIGHLIGHTED","PRE_COMPLETED","COMPLETED","VertexComponent","vertex","draggable","onDragStart","onDragEnd","onDragMove","onClick","e","call","target","getChildren","setAttrs","scaleX","scaleY","shadowColor","shadowBlur","shadowOffset","shadowOpacity","moveToTop","handleDragStart","to","duration","shadowOffsetX","shadowOffsetY","handleDragEnd","fill","color","stroke","strokeWidth","vertexBorderWidth","text","fontSize","textColor","width","height","align","verticalAlign","hintColor","Edge","vertexFrom","vertexTo","oriented","weight","_from","_to","EdgeState","_oriented","undefined","WALKED","ERASED","EdgeComponent","edgeComponent","edge","edgeType","points","getEdgePointsForType","EdgeType","NOT_ORIENTED","linePoints","hitStrokeWidth","tension","isWeighted","labelPoints","EdgeLabel","labelRadius","labelBorderWidth","ONE_SIDE_ORIENTED","TWO_SIDE_ORIENTED","LOOP","from","dx","dy","angle","Math","atan2","vertexFromOffset","vertexToOffset","xFrom","cos","yFrom","sin","xTo","yTo","xMiddle","yMiddle","anchorDx","sqrt","anchorDy","xMiddleFirst","sleep","ms","Promise","resolve","setTimeout","ActionType","ADD_VERTEX","ADD_EDGE","REMOVE_VERTEX","REMOVE_EDGE","CHANGE_GRAPH_MODE","SELECT_VERTEX","UNSELECT_VERTEX","SHOW_MESSAGE","CLOSE_MESSAGE","UPDATE_VERTEX_POSITION","INVERT_ORIENTATION","ALGORITHM_STEP","CLEAN_GRAPH_SELECTIONS","SET_GRAPH","changeGraphMode","graphMode","type","currentMessageId","showMessage","message","isAlert","dispatch","a","messageId","showMessageConnector","closeMessage","algorithmStep","step","START_DIALOG_FOR_RESULT","CLOSE_DIALOG","closeDialog","VertexAction","SELECT","UNSELECT","ENTER","EXIT","VertexHintAction","REMOVE","SET","HIGHLIGHT","EdgeAction","WALK","AlgorithmActionType","VERTEX_ACTION","EDGE_ACTION","VERTEX_HINT_ACTION","PreCallAction","NOTHING","SELECT_EDGE","Criteria","WEIGHTED","PRE_CALL","CALL","PAUSE","POP_TRACE_STEP","SET_ALGORITHM","SET_SPEED","SET_IS_ONE_STEP","CLEAR_TRACE","CLEAR_STATISTICS","setIsOneStep","isOneStep","getState","GraphMode","graph","graphReducer","callConnector","algorithmReducer","pause","start","callSuccess","currentVisualizationId","trace","popTraceStep","visualizationId","isActive","speed","VisualizationEdgeComponent","REMOVE_VERTEX_OR_EDGE","ALGORITHM_PRE_CALL_SELECT_VERTEX","ALGORITHM_PRE_CALL_SELECT_EDGE","Graph","vertices","edges","Array","isArray","Error","j","v","_vertices","_edges","_visualizationEdges","_currentName","max","map","index","splice","filter","findEdge","forEach","invertOrientation","newEdges","findVisualizationEdge","GraphComponent","draggedVertex","windowWidth","windowHeight","findIndexOfVertex","props","handleVertexDragStart","setState","updateDraggedVertex","updateVertexPosition","handleVertexDragMove","handleVertexDragEnd","getEdgeType","isOriented","handleCanvasClick","evt","clientX","clientY","addVertex","selectedVertex","unselectVertex","handleVertexClick","cancelBubble","removeVertex","selectVertex","startDialogForResult","value","addEdge","callAlgorithm","handleEdgeClick","removeEdge","handleResize","window","innerWidth","innerHeight","onresize","key","visualizationEdges","connect","vertexIndex","title","inputPlaceholder","onSubmit","onClose","pattern","onCancel","ButtonComponent","activated","SliderComponent","label","min","onChange","DropDownList","items","item","RoundedToggleSwitch","isChecked","checked","edgesListToAdjacencyList","adjacencyList","entries","verticesList","sort","b","edgesListToAdjacencyMatrix","verticesNumbers","nameToIndex","number","cell","adjacencyMatrix","weighted","used","preCall","criteria","startTime","performance","now","dfs","action","actionType","toVertex","endTime","statistics","toFixed","Queue","_queue","isEmpty","pop","bfs","d","Number","MAX_SAFE_INTEGER","dijkstra","START_MATRIX_DIALOG_FOR_RESULT","CLOSE_MATRIX_DIALOG","closeMatrixDialog","MenuComponent","algorithms","DFS","BFS","Dijkstra","algorithmPaused","handleAlgorithmChange","clearVisualization","setAlgorithm","startVisualization","remainingAlgorithmSteps","cleanGraphSelections","isVisualizationActive","continue","stepVisualization","stopVisualization","handleAlgorithmSpeedChange","setSpeed","askForAction","clearTrace","clearStatistics","writeToFile","json","JSON","stringify","exportData","escape","anchorElement","document","getElementById","setAttribute","click","askReadFromFile","readFromFile","reader","FileReader","file","files","onload","parse","result","find","setGraph","readAsText","showAdjacencyMatrix","startMatrixDialog","nextProps","nextState","nextContext","visualizationSpeed","selectedAlgorithm","grid","bounds","cancel","id","style","aria-hidden","href","accept","continueCall","TextInputComponent","placeholder","autoFocus","customStyles","overlay","zIndex","InputDialog","handleChange","validity","valid","submit","preventDefault","submitDialog","cancelDialog","isOpen","onRequestClose","ariaHideApp","dialogReducer","lines","line","MatrixCell","topLeft","topRight","bottomLeft","bottomRight","MatrixRow","row","first","last","vertexNumber","AdjacencyMatrix","MatrixDialog","reduce","prev","arr","matrixDialogReducer","submitMatrixDialog","cancelMatrixDialog","App","Menu","Boolean","location","hostname","match","defaultState","dialog","newState","matrixDialog","clone","object","assign","create","getPrototypeOf","unselectSelectedVertex","updateVertexByAction","updateEdgeByAction","updateVertexHintByAction","combineReducers","removeVisualizationEdgeByVertices","addVisualizationEdge","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch","error","module","exports"],"mappings":"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","file":"static/js/main.e8bbddd0.chunk.js","sourcesContent":["export const algorithm = {\n    name: \"Breadth First Search\",\n    run: function (cells, cellStart, cellFinish, pathStatus) {\n        let node = { x: cellStart.x, y: cellStart.y, parent: null };\n\n        const queue = [node];\n        while (queue.length) {\n            let current = queue.shift();\n            if ((current.x !== cellStart.x) || (current.y !== cellStart.y))\n                cells[current.y][current.x] = pathStatus;\n            if ((current.x === cellFinish.x) && (current.y === cellFinish.y)) {\n                // const path = backtrace(current);\n                // TODO: something\n                return;\n            }\n            console.log(current);\n            const next = neighbours(current, 0, 0, cells[0].length - 1, cells.length - 1);\n            for (let i = 0; i < next.length; ++i)\n                if ((cells[next[i].y][next[i].x] !== pathStatus) && !((next[i].x === cellStart.x) && (next[i].y === cellStart.y)) && (queue.findIndex(n => (n.x === next[i].x) && (n.y === next[i].y)) === -1))\n                    queue.push(next[i]);\n        }\n    }\n};\n\nfunction backtrace(node) {\n    const path = [{x: node.x, y: node.y}];\n    while (node.parent !== null) {\n        node = node.parent;\n        path.push({x: node.x, y: node.y});\n    }\n    return path;\n}\n\nfunction neighbours(node, minX, minY, maxX, maxY) {\n    const res = [];\n    if (node.x < maxX)\n        res.push({ x: node.x + 1, y: node.y, parent: node });\n    if (node.x > minX)\n        res.push({ x: node.x - 1, y: node.y, parent: node });\n    if (node.y < maxY)\n        res.push({ x: node.x, y: node.y + 1, parent: node });\n    if (node.y > minY)\n        res.push({ x: node.x, y: node.y - 1, parent: node });\n    return res;\n}","import React from 'react';\nimport classnames from \"classnames/bind\";\nimport styles from \"./PlainGraph.module.scss\";\nimport { algorithm } from \"../../algorithms/plain/breadth-first-search\";\n\nconst cx = classnames.bind(styles);\n\nconst CellState = Object.freeze({ EMPTY: 0, BLOCKED: 1, START: 2, FINISH: 3, PATH: 4});\n\nconst Cell = ({x, y, status, onMouseEnter, onMouseLeave}) => (\n    <rect x={x} y={y} className={cx(\"cell\", {\n            [`cell-blocked`]: status === CellState.BLOCKED,\n            [`cell-path`]: status === CellState.PATH,\n            [`cell-start`]: status === CellState.START,\n            [`cell-finish`]: status === CellState.FINISH\n          })}\n          onMouseEnter={onMouseEnter}\n          onMouseLeave={onMouseLeave}/>\n);\n\nclass PlainGraph extends React.Component {\n    state = {\n        cells: [],\n        cellSize: 40,\n        rows: 1000 / 40 + 10,\n        columns: 2000 / 40 + 10,\n        isMouseDown: false,\n        previousMouseRow: -1,\n        previousMouseColumn: -1,\n        mouseCellState: -1\n    };\n\n    componentDidMount() {\n        const cellSize = 40;\n        const rows = 1000 / cellSize + 10;\n        const columns = 2000 / cellSize + 10;\n        const cells = [];\n        // const rows = window.innerHeight / cellSize + 10, columns = window.innerWidth / cellSize + 10; // TODO: change on resize\n        for (let i = 0; i < rows; ++i) {\n            const row = [];\n            for (let j = 0; j < columns; ++j) {\n                row.push(CellState.EMPTY);\n            }\n            cells.push(row);\n        }\n        cells[2][2] = CellState.START;\n        cells[2][40] = CellState.FINISH;\n        this.setState({ cells: cells, cellSize: cellSize, rows: rows, columns: columns});\n    }\n\n    invertCellUnderMouse = (event) => {\n        this.setState(oldState => {\n            const x = Math.floor(event.x / this.state.cellSize);\n            const y = Math.floor(event.y / this.state.cellSize);\n            if ((x === oldState.previousMouseColumn) && (y === oldState.previousMouseRow))\n                return oldState;\n            const state = {...oldState};\n\n            const currentCellState = state.cells[y][x];\n            if (currentCellState === state.mouseCellState) {\n                if ((currentCellState === CellState.EMPTY) || (currentCellState === CellState.PATH))\n                    state.cells[y][x] = CellState.BLOCKED;\n                else if (currentCellState === CellState.BLOCKED)\n                    state.cells[y][x] = CellState.EMPTY;\n            }\n            state.previousMouseRow = y;\n            state.previousMouseColumn = x;\n\n            return state;\n        });\n    };\n\n    handleMouseDown = (event) => {\n        algorithm.run(this.state.cells, {x:2,y:2},{x:40,y:2}, CellState.PATH);\n        const reducedEvent = { x: event.clientX, y: event.clientY };\n        this.setState({\n            isMouseDown: true,\n            mouseCellState: this.state.cells\n                [Math.floor(reducedEvent.y / this.state.cellSize)]\n                [Math.floor(reducedEvent.x / this.state.cellSize)]\n        });\n        this.invertCellUnderMouse(reducedEvent);\n    };\n\n    handleMouseUp = (event) => {\n        this.invertCellUnderMouse({ x: event.clientX, y: event.clientY });\n        this.setState({ isMouseDown: false, previousMouseRow: -1, previousMouseColumn: -1 });\n    };\n\n    handleCellMouseEnter = (event) => {\n        if (!this.state.isMouseDown)\n            return;\n        const reducedEvent = { x: event.clientX, y: event.clientY };\n        this.invertCellUnderMouse(reducedEvent);\n    };\n\n    render() {\n        return (\n            <div className={cx(\"plain_graph\")}>\n                <svg className={cx(\"drawing_area\")}\n                     onMouseDown={e => this.handleMouseDown(e)}\n                     onMouseUp={e => this.handleMouseUp(e)}>\n                    {this.state.cells.map((row, y) =>\n                        row.map((cell, x) =>\n                            <Cell\n                                x={x * this.state.cellSize}\n                                y={y * this.state.cellSize}\n                                status={cell}\n                                key={this.state.columns * y + x}\n                                onMouseEnter={e => this.handleCellMouseEnter(e)}/>\n                            )\n                        )\n                    }\n                </svg>\n            </div>\n        );\n    }\n}\n\nexport default PlainGraph;","import { Circle, Group, Text } from \"react-konva\";\nimport React from \"react\";\n\nexport class Vertex {\n    constructor(x, y, radius, name) {\n        this.x = x;\n        this.y = y;\n        this.radius = radius;\n        this.state = VertexState.DEFAULT;\n        this.name = name;\n        this.hint = \"\";\n        this.hintState = VertexHintState.CLEAR;\n    }\n\n    get color() {\n        switch (this.state) {\n            case VertexState.DEFAULT:\n                return 'white';\n            case VertexState.HIGHLIGHTED:\n                return 'yellow';\n            case VertexState.PRE_COMPLETED:\n                return '#CCCCCC';\n            case VertexState.COMPLETED:\n                return '#444444';\n            default:\n                return 'white';\n        }\n    }\n\n    get textColor() {\n        switch (this.state) {\n            case VertexState.DEFAULT:\n                return 'black';\n            case VertexState.HIGHLIGHTED:\n                return 'black';\n            case VertexState.PRE_COMPLETED:\n                return 'black';\n            case VertexState.COMPLETED:\n                return 'white';\n            default:\n                return 'black';\n        }\n    }\n\n    get hintColor() {\n        switch (this.hintState) {\n            case VertexHintState.CLEAR:\n                return '#00000000';\n            case VertexHintState.DEFAULT:\n                return '#ff5f3c';\n            case VertexState.HIGHLIGHTED:\n                return '#f7ff00';\n            default:\n                return '#00000000';\n        }\n    }\n}\n\nconst handleDragStart = (e, call) => {\n    e.target.getChildren()[0].setAttrs({\n        scaleX: 1.1,\n        scaleY: 1.1,\n        shadowColor: 'black',\n        shadowBlur: 10,\n        shadowOffset: { x: 10, y: 10 },\n        shadowOpacity: 0.5\n    });\n    e.target.moveToTop();\n\n    call(e);\n};\n\nconst handleDragEnd = (e, call) => {\n    e.target.getChildren()[0].to({\n        duration: 0.25,\n        scaleX: 1,\n        scaleY: 1,\n        shadowBlur: 0,\n        shadowOffsetX: 0,\n        shadowOffsetY: 0\n    });\n\n    call(e);\n};\n\nexport const VertexComponent = ({ vertex, draggable, onDragStart, onDragEnd, onDragMove, onClick }) => {\n    const labelWidth = 40, labelHeight = 20;\n    return (\n        <Group\n            draggable={draggable}\n            onDragStart={e => handleDragStart(e, onDragStart)}\n            onDragEnd={e => handleDragEnd(e, onDragEnd)}\n            onDragMove={onDragMove}\n            onClick={onClick}\n            x={vertex.x}\n            y={vertex.y}>\n            <Circle\n                x={0}\n                y={0}\n                radius={vertex.radius}\n                fill={vertex.color}\n                stroke={'black'}\n                shadowBlur={0}\n                strokeWidth={vertexBorderWidth}\n                shadowOpacity={0.5}/>\n            <Text\n                text={vertex.name}\n                x={-labelWidth / 2.}\n                y={-labelHeight / 2.}\n                fontSize={20}\n                fill={vertex.textColor}\n                width={labelWidth}\n                height={labelHeight}\n                align={'center'}\n                verticalAlign={'middle'}/>\n\n            <Text\n                text={vertex.hint}\n                x={-2 * vertex.radius}\n                y={-2 * vertex.radius}\n                fontSize={20}\n                fill={vertex.hintColor}\n                width={labelWidth}\n                height={labelHeight}\n                align={'center'}\n                verticalAlign={'middle'}/>\n        </Group>);\n};\n\nexport const vertexBorderWidth = 2;\n\nexport const VertexState = Object.freeze({ DEFAULT: 0, HIGHLIGHTED: 1, PRE_COMPLETED: 2, COMPLETED: 3 });\nexport const VertexHintState = Object.freeze({ CLEAR: 0, DEFAULT: 1, HIGHLIGHTED: 2 });","import { vertexBorderWidth } from \"../Vertex/Vertex\";\nimport { Arrow, Circle, Group, Line, Text } from \"react-konva\";\nimport React from \"react\";\n\nexport class Edge {\n    constructor(vertexFrom, vertexTo, oriented, weight) {\n        this._from = vertexFrom;\n        this._to = vertexTo;\n        this.weight = weight;\n        this.state = EdgeState.DEFAULT;\n        this._oriented = oriented;\n    }\n\n    get from() {\n        return this._from;\n    }\n\n    get to() {\n        return this._to;\n    }\n\n    get color() {\n        switch (this.state) {\n            case EdgeState.DEFAULT:\n                return 'black';\n            case EdgeState.HIGHLIGHTED:\n                return '#f7ff00';\n            case EdgeState.WALKED:\n                return '#ff5f3c';\n            case EdgeState.ERASED:\n                return '#ffffff00';\n            default:\n                return 'black';\n        }\n    }\n\n    isWeighted() {\n        return (this.weight !== undefined) && (this.weight !== null);\n    }\n\n    isOriented() {\n        return this._oriented;\n    }\n\n    invertOrientation() {\n        this._oriented = !this._oriented;\n    }\n}\n\nexport const EdgeComponent = ({ edge, edgeType, onClick }) => {\n    const points = getEdgePointsForType(edge, edgeType);\n    const color = edge.color;\n\n    let edgeComponent;\n    if (edgeType === EdgeType.NOT_ORIENTED)\n        edgeComponent = (\n            <Line\n                points={points.linePoints}\n                onClick={onClick}\n                stroke={color}\n                fill={color}\n                strokeWidth={2}\n                hitStrokeWidth={15}/>\n        );\n    else\n        edgeComponent = (\n            <Arrow\n                points={points.linePoints}\n                onClick={onClick}\n                stroke={color}\n                fill={color}\n                strokeWidth={2}\n                hitStrokeWidth={15}\n                tension={0.5}/>\n        );\n\n    if (edge.isWeighted())\n        return (\n            <Group onClick={onClick}>\n                {edgeComponent}\n                <EdgeLabel\n                    x={points.labelPoints[0]}\n                    y={points.labelPoints[1]}\n                    text={edge.weight}/>\n            </Group>\n        );\n    else\n        return (edgeComponent);\n};\n\nexport const EdgeLabel = ({ x, y, text }) => {\n    const labelRadius = 15;\n    const labelHorizontalPadding = 1, labelVerticalPadding = 5;\n    const labelBorderWidth = 0;\n    return (\n        <Group\n            x={x - labelRadius - labelHorizontalPadding - labelBorderWidth}\n            y={y - labelRadius - labelVerticalPadding - labelBorderWidth}\n            width={labelRadius * 2. + 2. * (labelHorizontalPadding + labelBorderWidth)}\n            height={labelRadius * 2. + 2. * (labelVerticalPadding + labelBorderWidth)}>\n            <Circle\n                x={labelRadius + labelHorizontalPadding + labelBorderWidth}\n                y={labelRadius + labelVerticalPadding + labelBorderWidth}\n                radius={labelRadius}\n                fill={'white'}\n                stroke={'black'}\n                strokeWidth={labelBorderWidth}/>\n            <Text\n                x={labelBorderWidth + labelHorizontalPadding}\n                y={labelBorderWidth + labelVerticalPadding}\n                text={text}\n                fontSize={20}\n                width={labelRadius * 2.}\n                height={labelRadius * 2.}\n                align={'center'}\n                verticalAlign={'middle'}/>\n        </Group>\n    );\n};\n\nexport const EdgeType = Object.freeze({ ONE_SIDE_ORIENTED: 0, TWO_SIDE_ORIENTED: 1, NOT_ORIENTED: 2, LOOP: 3 });\nexport const EdgeState = Object.freeze({ DEFAULT: 0, HIGHLIGHTED: 1, ERASED: 2, WALKED: 3 });\n\nexport const getEdgePointsForType = (edge, edgeType) => {\n    const vertexFrom = edge.from;\n    const vertexTo = edge.to;\n    const dx = vertexTo.x - vertexFrom.x;\n    const dy = vertexFrom.y - vertexTo.y;\n    const angle = Math.atan2(dy, dx);\n    const vertexFromOffset = vertexFrom.radius + vertexBorderWidth / 2.;\n    const vertexToOffset = vertexTo.radius + vertexBorderWidth / 2.;\n\n    if ((edgeType === EdgeType.ONE_SIDE_ORIENTED) || (edgeType === EdgeType.NOT_ORIENTED)) {\n        const xFrom = vertexFrom.x + vertexFromOffset * Math.cos(angle);\n        const yFrom = vertexFrom.y - vertexFromOffset * Math.sin(angle);\n        const xTo = vertexTo.x - vertexToOffset * Math.cos(angle);\n        const yTo = vertexTo.y + vertexToOffset * Math.sin(angle);\n\n        return {\n            linePoints: [\n                xFrom, yFrom,\n                xTo, yTo\n            ],\n            labelPoints: [\n                (xFrom + xTo) / 2.,\n                (yFrom + yTo) / 2.\n            ]\n        };\n    } else if (edgeType === EdgeType.TWO_SIDE_ORIENTED) {\n        const angleOffset = 0.25;\n        const xFrom = vertexFrom.x + vertexFromOffset * Math.cos(angle + angleOffset);\n        const yFrom = vertexFrom.y - vertexFromOffset * Math.sin(angle + angleOffset);\n        const xTo = vertexTo.x - vertexToOffset * Math.cos(angle - angleOffset);\n        const yTo = vertexTo.y + vertexToOffset * Math.sin(angle - angleOffset);\n\n        const middlePointHeightCoefficient = 1. / 15.;\n        const xMiddle = (xFrom + xTo) / 2. - (yFrom - yTo) * middlePointHeightCoefficient;\n        const yMiddle = (yFrom + yTo) / 2. + (xFrom - xTo) * middlePointHeightCoefficient;\n\n        return {\n            linePoints: [\n                xFrom, yFrom,\n                xMiddle, yMiddle,\n                xTo, yTo\n            ],\n            labelPoints: [\n                xMiddle,\n                yMiddle\n            ]\n        };\n    } else if (edgeType === EdgeType.LOOP) {\n        const xFrom = vertexFrom.x - vertexFromOffset;\n        const yFrom = vertexFrom.y;\n        const xTo = vertexFrom.x - vertexFromOffset;\n        const yTo = vertexFrom.y;\n\n        const anchorDx = 3. * vertexFromOffset / Math.sqrt(2.);\n        const anchorDy = 1.5 * vertexFromOffset / Math.sqrt(2.);\n        const xMiddleFirst = xFrom - anchorDx;\n        const yMiddleFirst = yFrom - anchorDy;\n        const xMiddle = xMiddleFirst - vertexFromOffset;\n        const yMiddle = yFrom;\n        const xMiddleSecond = xTo - anchorDx;\n        const yMiddleSecond = yTo + anchorDy;\n\n        return {\n            linePoints: [\n                xFrom, yFrom,\n                xMiddleFirst, yMiddleFirst,\n                xMiddle, yMiddle,\n                xMiddleSecond, yMiddleSecond,\n                xTo, yTo\n            ],\n            labelPoints: [\n                xMiddle, yMiddle\n            ]\n        };\n    }\n};","export function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}","import { sleep } from \"../utils/sleep\";\n\nexport const ActionType = Object.freeze({\n    ADD_VERTEX: 'ADD_VERTEX',\n    ADD_EDGE: 'ADD_EDGE',\n    REMOVE_VERTEX: 'REMOVE_VERTEX',\n    REMOVE_EDGE: 'REMOVE_EDGE',\n    CHANGE_GRAPH_MODE: 'CHANGE_GRAPH_MODE',\n    SELECT_VERTEX: 'SELECT_VERTEX',\n    UNSELECT_VERTEX: 'UNSELECT_VERTEX',\n    SHOW_MESSAGE: 'SHOW_MESSAGE',\n    CLOSE_MESSAGE: 'CLOSE_MESSAGE',\n    UPDATE_VERTEX_POSITION: 'UPDATE_VERTEX_POSITION',\n    INVERT_ORIENTATION: 'INVERT_ORIENTATION',\n    ALGORITHM_STEP: 'ALGORITHM_STEP',\n    CLEAN_GRAPH_SELECTIONS: 'CLEAN_GRAPH_SELECTIONS',\n    SET_GRAPH: 'SET_GRAPH'\n});\n\nexport const addVertex = (x, y, radius) => ({\n    type: ActionType.ADD_VERTEX,\n    x,\n    y,\n    radius\n});\n\nexport const addEdge = (vertexFrom, vertexTo, weight) => ({\n    type: ActionType.ADD_EDGE,\n    vertexFrom,\n    vertexTo,\n    weight\n});\n\nexport const removeVertex = (vertex) => ({\n    type: ActionType.REMOVE_VERTEX,\n    vertex\n});\n\nexport const removeEdge = (edge) => ({\n    type: ActionType.REMOVE_EDGE,\n    edge\n});\n\nexport const changeGraphMode = (graphMode) => ({\n    type: ActionType.CHANGE_GRAPH_MODE,\n    graphMode\n});\n\nexport const selectVertex = (vertex) => ({\n    type: ActionType.SELECT_VERTEX,\n    vertex\n});\n\nexport const unselectVertex = (vertex) => ({\n    type: ActionType.UNSELECT_VERTEX,\n    vertex\n});\n\nlet currentMessageId = 0;\n\nexport const showMessage = (message, isAlert = false) => async (dispatch) => {\n    const messageId = ++currentMessageId;\n    dispatch(showMessageConnector(message, isAlert));\n    await sleep(2000);\n    if (messageId === currentMessageId)\n        dispatch(closeMessage());\n};\n\nconst showMessageConnector = (message, isAlert = false) => ({\n    type: ActionType.SHOW_MESSAGE,\n    message,\n    isAlert\n});\n\nexport const closeMessage = () => ({\n    type: ActionType.CLOSE_MESSAGE\n});\n\nexport const updateVertexPosition = (vertexIndex, x, y) => ({\n    type: ActionType.UPDATE_VERTEX_POSITION,\n    vertexIndex,\n    x,\n    y\n});\n\nexport const invertOrientation = () => ({\n    type: ActionType.INVERT_ORIENTATION\n});\n\nexport const algorithmStep = (step) => ({\n    type: ActionType.ALGORITHM_STEP,\n    step\n});\n\nexport const cleanGraphSelections = () => ({\n    type: ActionType.CLEAN_GRAPH_SELECTIONS\n});\n\nexport const setGraph = (graph) => ({\n    type: ActionType.SET_GRAPH,\n    graph\n});","export const ActionType = Object.freeze({\n    START_DIALOG_FOR_RESULT: 'START_DIALOG_FOR_RESULT',\n    CLOSE_DIALOG: 'CLOSE_DIALOG'\n});\n\nexport const startDialogForResult = (title, text, hint, inputPlaceholder, onSubmit, onCancel, pattern = \".*\") => ({\n    type: ActionType.START_DIALOG_FOR_RESULT,\n    title,\n    text,\n    hint,\n    inputPlaceholder,\n    onSubmit,\n    onCancel,\n    pattern\n});\n\nconst closeDialog = () => ({\n   type: ActionType.CLOSE_DIALOG\n});\n\nexport const cancelDialog = (onCancel) => (dispatch) => {\n    if (onCancel)\n        onCancel();\n    dispatch(closeDialog());\n};\n\nexport const submitDialog = (onSubmit, result) => (dispatch) => {\n    if (onSubmit)\n        onSubmit(result);\n    dispatch(closeDialog());\n};","export const VertexAction = Object.freeze({\n    SELECT: 0,\n    UNSELECT: 1,\n    ENTER: 2,\n    EXIT: 3\n});\n\nexport const VertexHintAction = Object.freeze({\n    REMOVE: 0,\n    SET: 1,\n    HIGHLIGHT: 2\n});\n\nexport const EdgeAction = Object.freeze({\n    WALK: 0,\n    HIGHLIGHT: 1,\n    UNSELECT: 2\n});\n\nexport const AlgorithmActionType = Object.freeze({\n    VERTEX_ACTION: 0,\n    EDGE_ACTION: 1,\n    VERTEX_HINT_ACTION: 2\n});\n\nexport const PreCallAction = Object.freeze({\n    NOTHING: 0,\n    SELECT_VERTEX: 1,\n    SELECT_EDGE: 2\n});\n\nexport const Criteria = Object.freeze({\n    NOTHING: 0,\n    WEIGHTED: 1\n});","import { algorithmStep, changeGraphMode, closeMessage, showMessage } from \"./index\";\nimport { GraphMode } from \"../components/Graph/Graph\";\nimport { Criteria, PreCallAction } from \"../algorithms/graph\";\nimport { sleep } from \"../utils/sleep\";\n\nexport const ActionType = Object.freeze({\n    PRE_CALL: 'PRE_CALL',\n    CALL: 'CALL',\n    START: 'START',\n    PAUSE: 'PAUSE',\n    POP_TRACE_STEP: 'POP_TRACE_STEP',\n    SET_ALGORITHM: 'SET_ALGORITHM',\n    SET_SPEED: 'SET_SPEED',\n    SET_IS_ONE_STEP: 'SET_IS_ONE_STEP',\n    CLEAR_TRACE: 'CLEAR_TRACE',\n    CLEAR_STATISTICS: 'CLEAR_STATISTICS'\n});\n\nexport const preCall = (isOneStep = false) => (dispatch, getState) => {\n    dispatch(setIsOneStep(isOneStep));\n\n    const criteria = getState().algorithmReducer.algorithm.criteria;\n    if (criteria === Criteria.WEIGHTED) {\n        for (const edge of getState().graphReducer.graph.edges) {\n            if (!edge.isWeighted()) {\n                dispatch(showMessage(\"Граф должен быть взвешенным!\", true));\n                return;\n            }\n        }\n    }\n\n    const preCall = getState().algorithmReducer.algorithm.preCall;\n    if (preCall === PreCallAction.SELECT_VERTEX) {\n        dispatch(changeGraphMode(GraphMode.ALGORITHM_PRE_CALL_SELECT_VERTEX));\n        dispatch(showMessage(\"Выберите вершину\"));\n    } else if (preCall === PreCallAction.SELECT_EDGE) {\n        dispatch(changeGraphMode(GraphMode.ALGORITHM_PRE_CALL_SELECT_EDGE));\n        dispatch(showMessage(\"Выберите ребро\"));\n    } else if (preCall === PreCallAction.NOTHING) {\n        dispatch(call());\n    }\n};\n\nexport const setSpeed = (speed) => ({\n    type: ActionType.SET_SPEED,\n    speed\n});\n\nexport const setAlgorithm = (algorithm) => ({\n    type: ActionType.SET_ALGORITHM,\n    algorithm\n});\n\nconst setIsOneStep = (isOneStep) => ({\n    type: ActionType.SET_IS_ONE_STEP,\n    isOneStep\n});\n\nexport const call = (vertex, edge) => (dispatch, getState) => {\n    dispatch(closeMessage());\n    dispatch(changeGraphMode(GraphMode.DEFAULT));\n    const graph = getState().graphReducer.graph;\n    dispatch(callConnector(graph, vertex, edge));\n\n    const isOneStep = getState().algorithmReducer.isOneStep;\n    isOneStep ? dispatch(pause()) : dispatch(start());\n    dispatch(callSuccess(isOneStep));\n};\n\nexport const continueCall = (isOneStep = false) => (dispatch) => {\n    isOneStep ? dispatch(pause()) : dispatch(start());\n    dispatch(callSuccess(isOneStep));\n};\n\nconst start = () => ({\n    type: ActionType.START\n});\n\nexport const pause = () => ({\n    type: ActionType.PAUSE\n});\n\nconst callConnector = (graph, vertex, edge) => ({\n    type: ActionType.CALL,\n    graph,\n    vertex,\n    edge\n});\n\nlet currentVisualizationId = 0; // To prevent several visualization 'threads'\n\nconst callSuccess = (isOneStep = false) => async (dispatch, getState) => {\n    if (isOneStep) {\n        if (getState().algorithmReducer.trace.length > 0) {\n            dispatch(algorithmStep(getState().algorithmReducer.trace[0]));\n            dispatch(popTraceStep());\n        }\n        return;\n    }\n\n    const visualizationId = ++currentVisualizationId;\n    while ((getState().algorithmReducer.trace.length > 0) && getState().algorithmReducer.isActive) {\n        dispatch(algorithmStep(getState().algorithmReducer.trace[0]));\n        dispatch(popTraceStep());\n        if (getState().algorithmReducer.trace.length > 0) {\n            await sleep(getState().algorithmReducer.speed);\n            if (currentVisualizationId !== visualizationId)\n                return;\n        }\n    }\n    if (getState().algorithmReducer.isActive) {\n        dispatch(pause());\n    }\n};\n\nconst popTraceStep = () => ({\n    type: ActionType.POP_TRACE_STEP\n});\n\nexport const clearTrace = () => ({\n    type: ActionType.CLEAR_TRACE\n});\n\nexport const clearStatistics = () => ({\n    type: ActionType.CLEAR_STATISTICS\n});","import { Arrow, Group, Line } from \"react-konva\";\nimport React from \"react\";\nimport { EdgeLabel, getEdgePointsForType } from \"../Edge/Edge\";\n\nexport const VisualizationEdgeComponent = ({ edge, edgeType }) => {\n    const points = getEdgePointsForType(edge, edgeType);\n    const color = edge.color;\n    let edgeComponent;\n    if (edgeType === EdgeType.NOT_ORIENTED)\n        edgeComponent = (\n            <Line\n                points={points.linePoints}\n                stroke={color}\n                fill={color}\n                strokeWidth={3}\n                hitStrokeWidth={16}/>\n        );\n    else\n        edgeComponent = (\n            <Arrow\n                points={points.linePoints}\n                stroke={color}\n                fill={color}\n                strokeWidth={3}\n                hitStrokeWidth={16}\n                tension={0.5}/>\n        );\n\n    if (edge.isWeighted())\n        return (\n            <Group>\n                {edgeComponent}\n                <EdgeLabel\n                    x={points.labelPoints[0]}\n                    y={points.labelPoints[1]}\n                    text={edge.weight}/>\n            </Group>\n        );\n    else\n        return (edgeComponent);\n};\n\nexport const EdgeType = Object.freeze({ ONE_SIDE_ORIENTED: 0, TWO_SIDE_ORIENTED: 1, NOT_ORIENTED: 2, LOOP: 3 });","import React from 'react';\nimport classnames from \"classnames/bind\";\nimport styles from \"./Graph.module.scss\";\nimport { Layer, Rect, Stage } from \"react-konva\";\nimport { Vertex, VertexComponent } from \"./Vertex/Vertex\";\nimport { Edge, EdgeComponent, EdgeType } from \"./Edge/Edge\";\nimport { connect } from \"react-redux\";\nimport {\n    addEdge,\n    addVertex,\n    removeEdge,\n    removeVertex,\n    selectVertex,\n    unselectVertex,\n    updateVertexPosition\n} from \"../../actions\";\nimport { startDialogForResult } from \"../../actions/dialog\";\nimport { call } from \"../../actions/algorithm\";\nimport { VisualizationEdgeComponent } from \"./VisualizationEdge/VisualizationEdge\";\n\nconst cx = classnames.bind(styles);\n\nexport const vertexRadius = 20;\n\nconst mapStateToProps = state => ({\n    graph: state.graphReducer.graph,\n    graphMode: state.graphReducer.graphMode,\n    selectedVertex: state.graphReducer.selectedVertex\n});\n\nexport const GraphMode = Object.freeze({\n    DEFAULT: 0,\n    ADD_VERTEX: 1,\n    ADD_EDGE: 2,\n    REMOVE_VERTEX_OR_EDGE: 3,\n    ALGORITHM_PRE_CALL_SELECT_VERTEX: 4,\n    ALGORITHM_PRE_CALL_SELECT_EDGE: 5\n});\n\nexport class Graph {\n    constructor(oriented, vertices = null, edges = null) {\n        if (!vertices || !Array.isArray(vertices) || !edges || !Array.isArray(edges)) {\n            this._vertices = [];\n            this._edges = [];\n            this._visualizationEdges = [];\n            this._oriented = oriented;\n            this._currentName = 0;\n        } else {\n            for (let i = 0; i < vertices.length; ++i) {\n                if ((vertices[i].name < 0) || (vertices[i].name > 999))\n                    throw new Error(\"Invalid vertex name\");\n\n                for (let j = 0; j < vertices.length; ++j) {\n                    if ((i !== j) && (vertices[i].name === vertices[j].name))\n                        throw new Error(\"Two vertices with equal names\");\n                }\n            }\n\n            for (let i = 0; i < edges.length; ++i) {\n                if (edges[i].weight && ((edges[i].weight < 0) || (edges[i].weight > 99)))\n                    throw new Error(\"Invalid edge weight\");\n                if (vertices.findIndex(v => v.name === edges[i].from.name) === -1)\n                    throw new Error(\"Invalid vertex 'from'\");\n                if (vertices.findIndex(v => v.name === edges[i].to.name) === -1)\n                    throw new Error(\"Invalid vertex 'to'\");\n\n                for (let j = 0; j < edges.length; ++j) {\n                    if (i !== j) {\n                        if (oriented) {\n                            if ((edges[i].from.name === edges[j].from.name) && (edges[i].to.name === edges[j].to.name))\n                                throw new Error(\"Multiedges aren't supported\");\n                        } else {\n                            if ((edges[i].from.name === edges[j].from.name) && (edges[i].to.name === edges[j].to.name)\n                                || (edges[i].to.name === edges[j].from.name) && (edges[i].from.name === edges[j].to.name)) {\n                                throw new Error(\"Multiedges aren't supported\");\n                            }\n                        }\n                    }\n                }\n            }\n\n            this._vertices = [...vertices];\n            this._edges = [...edges];\n            this._visualizationEdges = [];\n            this._oriented = oriented;\n            this._currentName = Math.max(...vertices.map(v => v.name)) + 1;\n        }\n    }\n\n    addVertex(x, y, radius) {\n        const vertex = new Vertex(x, y, radius, this._currentName++);\n        this._vertices.push(vertex);\n        return vertex;\n    }\n\n    removeVertex(vertex) {\n        const index = this._vertices.findIndex(v => v === vertex);\n        if (index !== -1) {\n            this._vertices.splice(index, 1);\n            this._edges = this._edges.filter(edge => (edge.from.name !== vertex.name) && (edge.to.name !== vertex.name));\n        }\n    }\n\n    findEdge(vertexFrom, vertexTo) {\n        if (this._oriented)\n            return this._edges.findIndex(e => (e.from === vertexFrom) && (e.to === vertexTo));\n        else\n            return this._edges.findIndex(e => (e.from === vertexFrom) && (e.to === vertexTo)\n                || (e.to === vertexFrom) && (e.from === vertexTo));\n    }\n\n    addEdge(vertexFrom, vertexTo, weight) {\n        const i = this.findEdge(vertexFrom, vertexTo);\n        if (i === -1) {\n            const edge = new Edge(vertexFrom, vertexTo, this._oriented, weight);\n            this._edges.push(edge);\n            return edge;\n        }\n        else {\n            this._edges[i].weight = weight;\n        }\n    }\n\n    removeEdge(edge) {\n        this._edges = this._edges.filter(e => e !== edge);\n    }\n\n    invertOrientation() {\n        this._oriented = !this._oriented;\n        if (this._oriented)\n            this._edges.forEach(edge => edge.invertOrientation());\n        else {\n            const newEdges = [];\n            this._edges.forEach(edge => {\n                if (newEdges.findIndex(e => (e.from === edge.from) && (e.to === edge.to)\n                    || (e.to === edge.from) && (e.from === edge.to)) === -1) {\n\n                    edge.invertOrientation();\n                    newEdges.push(edge);\n                }\n            });\n            this._edges = newEdges;\n        }\n    }\n\n    findVisualizationEdge(vertexFrom, vertexTo) {\n        return this._visualizationEdges.findIndex(e => (e.from === vertexFrom) && (e.to === vertexTo));\n    }\n\n    addVisualizationEdge(vertexFrom, vertexTo, oriented, weight) {\n        const i = this.findVisualizationEdge(vertexFrom, vertexTo);\n        if (i === -1) {\n            const edge = new Edge(vertexFrom, vertexTo, oriented, weight);\n            this._visualizationEdges.push(edge);\n            return edge;\n        }\n        else {\n            this._visualizationEdges[i].weight = weight;\n            return this._visualizationEdges[i];\n        }\n    }\n\n    removeVisualizationEdge(edge) {\n        this._visualizationEdges = this._visualizationEdges.filter(e => e !== edge);\n    }\n\n    removeVisualizationEdgeByVertices(vertexFrom, vertexTo, oriented) {\n        if (oriented)\n            this._visualizationEdges = this._visualizationEdges.filter(e =>\n                (e.from.name !== vertexFrom.name) || (e.to.name !== vertexTo.name)\n            );\n        else\n            this._visualizationEdges = this._visualizationEdges.filter(e =>\n                ((e.from.name !== vertexFrom.name) || (e.to.name !== vertexTo.name)) &&\n                ((e.to.name !== vertexFrom.name) || (e.from.name !== vertexTo.name))\n            );\n    }\n\n    get vertices() {\n        return this._vertices;\n    }\n\n    get edges() {\n        return this._edges;\n    }\n\n    get visualizationEdges() {\n        return this._visualizationEdges;\n    }\n\n    set visualizationEdges(edges) {\n        this._visualizationEdges = edges;\n    }\n\n    isOriented() {\n        return this._oriented;\n    }\n}\n\nclass GraphComponent extends React.Component {\n    state = {\n        draggedVertex: undefined,\n        windowWidth: 700,\n        windowHeight: 700\n    };\n\n    componentDidMount() {\n        const handleResize = () => {\n            this.setState({ windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n        };\n        window.onresize = handleResize;\n        handleResize();\n    }\n\n    findIndexOfVertex = (vertex) => {\n        return this.props.graph.vertices.findIndex(v => v === vertex);\n    };\n\n    handleVertexDragStart = (e, vertex) => {\n        const i = this.findIndexOfVertex(vertex);\n        this.setState({ draggedVertex: (i !== -1 ? i : undefined) });\n    };\n\n    updateDraggedVertex = (x, y) => {\n        const vertex = this.state.draggedVertex;\n        if (vertex !== undefined)\n            this.props.updateVertexPosition(vertex, x, y);\n    };\n\n    handleVertexDragMove = e => {\n        this.updateDraggedVertex(e.target.x(), e.target.y());\n    };\n\n    handleVertexDragEnd = (e, vertex) => {\n        this.updateDraggedVertex(e.target.x(), e.target.y());\n        this.setState({ draggedVertex: undefined });\n    };\n\n    getEdgeType = edge => {\n        const vertexFrom = edge.from, vertexTo = edge.to;\n\n        if (vertexTo === vertexFrom)\n            return EdgeType.LOOP;\n        else if (!edge.isOriented())\n            return EdgeType.NOT_ORIENTED;\n        else if ((this.props.graph.edges.findIndex(e => (e.from === vertexTo) && (e.to === vertexFrom)) !== -1)\n                && (this.props.graph.edges.findIndex(e => (e.to === vertexTo) && (e.from === vertexFrom)) !== -1))\n            return EdgeType.TWO_SIDE_ORIENTED;\n        else\n            return EdgeType.ONE_SIDE_ORIENTED;\n    };\n\n    handleCanvasClick = e => {\n        const x = e.evt.clientX, y = e.evt.clientY;\n\n        if (this.props.graphMode === GraphMode.ADD_VERTEX)\n            this.props.addVertex(x, y, vertexRadius);\n        else if (this.props.graphMode === GraphMode.ADD_EDGE) {\n            if (this.props.selectedVertex !== undefined) {\n                this.props.unselectVertex();\n            }\n        }\n    };\n\n    handleVertexClick = (e, vertex) => {\n        if (this.props.graphMode === GraphMode.REMOVE_VERTEX_OR_EDGE) {\n            e.cancelBubble = true;\n            this.props.removeVertex(vertex);\n        } else if (this.props.graphMode === GraphMode.ADD_EDGE) {\n            e.cancelBubble = true;\n\n            if (this.props.selectedVertex === undefined) {\n                this.props.selectVertex(vertex);\n            }\n            else {\n                this.props.startDialogForResult(\n                    \"Введите вес ребра\",\n                    \"\",\n                    \"Оставьте поле пустым, чтобы добавить невзвешенное ребро\",\n                    \"Вес ребра\",\n                    (value) => {\n                        if (value === \"\")\n                            value = undefined;\n                        this.props.addEdge(this.props.selectedVertex, vertex, value);\n                        this.props.unselectVertex();\n                    },\n                    null,\n                    \"[0-9]{0,2}\"\n                );\n            }\n        } else if (this.props.graphMode === GraphMode.ALGORITHM_PRE_CALL_SELECT_VERTEX) {\n            e.cancelBubble = true;\n\n            this.props.callAlgorithm(vertex, null);\n        }\n    };\n\n    handleEdgeClick = (e, edge) => {\n        if (this.props.graphMode === GraphMode.REMOVE_VERTEX_OR_EDGE) {\n            e.cancelBubble = true;\n            this.props.removeEdge(edge);\n        } else if (this.props.graphMode === GraphMode.ALGORITHM_PRE_CALL_SELECT_EDGE) {\n            e.cancelBubble = true;\n            this.props.callAlgorithm(null, edge);\n        }\n    };\n\n    render() {\n        return (\n            <Stage onClick={this.handleCanvasClick} width={this.state.windowWidth} height={this.state.windowHeight}>\n                <Layer>\n                    <Rect fill={'white'} x={0} y={0} width={this.state.windowWidth} height={this.state.windowHeight}/>\n                    {\n                        this.props.graph.edges.map((edge, index) =>\n                            <EdgeComponent\n                                key={index}\n                                vertexFrom={edge.from}\n                                vertexTo={edge.to}\n                                edge={edge}\n                                edgeType={this.getEdgeType(edge)}\n                                onClick={(e) => this.handleEdgeClick(e, edge)}/>\n                        )\n                    }\n                    {\n                        this.props.graph.visualizationEdges.map((edge, index) =>\n                            <VisualizationEdgeComponent\n                                key={index}\n                                vertexFrom={edge.from}\n                                vertexTo={edge.to}\n                                edge={edge}\n                                edgeType={this.getEdgeType(edge)}/>\n                        )\n                    }\n                    {\n                        this.props.graph.vertices.map((vertex, index) =>\n                            <VertexComponent\n                                key={index}\n                                vertex={vertex}\n                                draggable={this.props.graphMode === GraphMode.DEFAULT}\n                                onClick={(e) => this.handleVertexClick(e, vertex)}\n                                onDragStart={e => this.handleVertexDragStart(e, vertex)}\n                                onDragEnd={e => this.handleVertexDragEnd(e, vertex)}\n                                onDragMove={e => this.handleVertexDragMove(e, vertex)}/>\n                        )\n                    }\n                </Layer>\n            </Stage>\n        );\n    }\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n    addVertex: (x, y, radius) => dispatch(addVertex(x, y, radius)),\n    addEdge: (vertexFrom, vertexTo, radius) => dispatch(addEdge(vertexFrom, vertexTo, radius)),\n    removeVertex: (vertex) => dispatch(removeVertex(vertex)),\n    removeEdge: (edge) => dispatch(removeEdge(edge)),\n    updateVertexPosition: (vertexIndex, x, y) => dispatch(updateVertexPosition(vertexIndex, x, y)),\n    selectVertex: (vertex) => dispatch(selectVertex(vertex)),\n    unselectVertex: (vertex) => dispatch(unselectVertex(vertex)),\n    startDialogForResult: (title, text, hint, inputPlaceholder, onSubmit, onClose, pattern) =>\n        dispatch(startDialogForResult(title, text, hint, inputPlaceholder, onSubmit, onClose, pattern)),\n    callAlgorithm: (vertex, edge) => dispatch(call(vertex, edge))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GraphComponent);","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport styles from \"./Buttons.module.scss\";\n\nconst cx = classnames.bind(styles);\n\nexport const ButtonComponent = ({ text, type = \"button\", onClick, activated, className }) => {\n    return (\n        <button type={type} className={cx(\"button\", className, {[`activated`]: activated})} onClick={onClick}>\n            {text}\n        </button>\n    );\n};","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport styles from \"./Sliders.module.scss\";\n\nconst cx = classnames.bind(styles);\n\nexport const SliderComponent = ({ label, value, min, max, onChange }) => {\n    return (\n        <div className={cx(\"slider-wrapper\")}>\n            <div className={cx(\"slider-label\")}>{label}</div>\n            <input\n                type={\"range\"}\n                className={cx(\"slider\")}\n                value={value}\n                min={min}\n                max={max}\n                onChange={onChange}/>\n        </div>\n    );\n};","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport styles from \"./DropDownLists.module.scss\";\n\nconst cx = classnames.bind(styles);\n\nexport const DropDownList = ({ items, onChange }) => {\n    return (\n        <select className={cx(\"drop-down-list\")} onChange={onChange}>\n            {items.map((item, index) => <option key={index} value={index}>{item}</option>)}\n        </select>\n    );\n};","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport styles from \"./ToggleSwitches.module.scss\";\n\nconst cx = classnames.bind(styles);\n\nexport const RoundedToggleSwitch = ({ text, onChange, className, isChecked }) => {\n    return (\n        <div className={cx(\"switch-round-wrapper\", className)}>\n            <label className={cx(\"switch-round\")}>\n                <input type={\"checkbox\"} onChange={onChange} checked={isChecked}/>\n                <span className={cx(\"slider\")}/>\n            </label>\n            <span className={cx(\"text\")}>{text}</span>\n        </div>\n    );\n};","export const edgesListToAdjacencyList = (vertices, edges) => {\n    const adjacencyList = {};\n    vertices.forEach(vertex => adjacencyList[vertex.name] = []);\n    edges.forEach(edge => {\n        adjacencyList[edge.from.name].push({name: edge.to.name, weight: edge.weight});\n        if (!edge.isOriented() && (edge.from !== edge.to))\n            adjacencyList[edge.to.name].push({name: edge.from.name, weight: edge.weight});\n    });\n    for (let [, verticesList] of Object.entries(adjacencyList))\n        verticesList = verticesList.sort((a, b) => a.name - b.name);\n    return adjacencyList;\n};\n\nexport const edgesListToAdjacencyMatrix = (vertices, edges) => {\n    const verticesNumbers = [];\n    vertices.forEach(v => verticesNumbers.push(v.name));\n    verticesNumbers.sort((a, b) => a - b);\n    const nameToIndex = {};\n    verticesNumbers.forEach((number, index) => nameToIndex[number] = index);\n\n    const adjacencyMatrix = new Array(vertices.length);\n    for (let i = 0; i < vertices.length; ++i) {\n        adjacencyMatrix[i] = new Array(vertices.length);\n        for (let j = 0; j < vertices.length; ++j)\n            adjacencyMatrix[i][j] = null;\n    }\n\n    let from, to, cell;\n    edges.forEach(e => {\n        from = nameToIndex[e.from.name];\n        to = nameToIndex[e.to.name];\n        cell = e.weight ? { weighted: true, weight: e.weight } : { weighted : false };\n        adjacencyMatrix[from][to] = cell;\n        if (!e.isOriented())\n            adjacencyMatrix[to][from] = cell;\n    });\n\n    return {adjacencyMatrix, verticesNumbers};\n};","import { AlgorithmActionType, Criteria, EdgeAction, PreCallAction, VertexAction } from \"./index\";\nimport { edgesListToAdjacencyList } from \"../../utils/graphConverter\";\n\nlet used = {};\nlet trace = [];\n\nconst dfs = (vertex, adjacencyList) => {\n    used[vertex] = true;\n    trace.push({ vertex, action: VertexAction.ENTER, actionType: AlgorithmActionType.VERTEX_ACTION });\n    let to;\n    adjacencyList[vertex].forEach(toVertex => {\n        to = toVertex.name;\n        if (!used[to]) {\n            trace.push({ from: vertex, to: to, oriented: true, action: EdgeAction.WALK, actionType: AlgorithmActionType.EDGE_ACTION });\n            dfs(to, adjacencyList);\n            trace.push({ from: to, to: vertex, oriented: true, action: EdgeAction.WALK, actionType: AlgorithmActionType.EDGE_ACTION });\n        }\n    });\n    trace.push({ vertex, action: VertexAction.EXIT, actionType: AlgorithmActionType.VERTEX_ACTION });\n};\n\nexport default {\n    name: \"Поиск в глубину\",\n\n    preCall: PreCallAction.SELECT_VERTEX,\n\n    criteria: Criteria.NOTHING,\n\n    call: (vertices, edges, start) => {\n        const adjacencyList = edgesListToAdjacencyList(vertices, edges);\n        used = {};\n        vertices.forEach(vertex => used[vertex.name] = false);\n        trace = [];\n\n        const startTime = window.performance.now();\n\n        dfs(start.name, adjacencyList);\n\n        const endTime = window.performance.now();\n        const duration = endTime - startTime;\n\n        return {\n            trace,\n            statistics: [\n                `Время: ${duration.toFixed(4)}мс`,\n                `Кол-во операций: ${trace.length}`\n            ]\n        };\n    }\n};","export class Queue {\n    constructor() {\n        this._queue = [];\n    }\n\n    get length() {\n        return this._queue.length;\n    }\n\n    isEmpty() {\n        return this._queue.length === 0;\n    }\n\n    push(value) {\n        this._queue.push(value);\n    }\n\n    pop() {\n        // TODO: O(N) -> O(1)\n        return this._queue.shift();\n    }\n\n    peek() {\n        return this._queue[0];\n    }\n}","import { AlgorithmActionType, Criteria, EdgeAction, PreCallAction, VertexAction } from \"./index\";\nimport { Queue } from \"../../utils/queue\";\nimport { edgesListToAdjacencyList } from \"../../utils/graphConverter\";\n\nconst bfs = (start, adjacencyList, used, trace) => {\n    used[start] = true;\n    const queue = new Queue();\n    queue.push(start);\n    trace.push({ vertex: start, action: VertexAction.ENTER, actionType: AlgorithmActionType.VERTEX_ACTION });\n    let vertex, to;\n    while (!queue.isEmpty()) {\n        vertex = queue.pop();\n        trace.push({ vertex, action: VertexAction.SELECT, actionType: AlgorithmActionType.VERTEX_ACTION });\n        adjacencyList[vertex].forEach(toVertex => {\n            to = toVertex.name;\n            if (!used[to]) {\n                trace.push({ from: vertex, to: to, oriented: true, action: EdgeAction.WALK, actionType: AlgorithmActionType.EDGE_ACTION });\n                used[to] = true;\n                queue.push(to);\n                trace.push({ vertex: to, action: VertexAction.ENTER, actionType: AlgorithmActionType.VERTEX_ACTION });\n            }\n        });\n        trace.push({ vertex, action: VertexAction.EXIT, actionType: AlgorithmActionType.VERTEX_ACTION });\n    }\n};\n\nexport default {\n    name: \"Поиск в ширину\",\n\n    preCall: PreCallAction.SELECT_VERTEX,\n\n    criteria: Criteria.NOTHING,\n\n    call: (vertices, edges, start) => {\n        const adjacencyList = edgesListToAdjacencyList(vertices, edges);\n        let used = {};\n        vertices.forEach(vertex => used[vertex.name] = false);\n        let trace = [];\n\n        const startTime = window.performance.now();\n\n        bfs(start.name, adjacencyList, used, trace);\n\n        const endTime = window.performance.now();\n        const duration = endTime - startTime;\n\n        return {\n            trace,\n            statistics: [\n                `Время: ${duration.toFixed(4)}мс`,\n                `Кол-во операций: ${trace.length}`\n            ]\n        };\n    }\n};","import { AlgorithmActionType, Criteria, EdgeAction, PreCallAction, VertexAction, VertexHintAction } from \"./index\";\nimport { edgesListToAdjacencyList } from \"../../utils/graphConverter\";\n\nconst dijkstra = (start, vertices, adjacencyList, used, trace) => {\n    const d = {};\n    vertices.forEach(v => {\n        if (v === start)\n            return;\n        d[v] = Number.MAX_SAFE_INTEGER;\n        trace.push({ vertex: v, hint: \"∞\", action: VertexHintAction.SET, actionType: AlgorithmActionType.VERTEX_HINT_ACTION });\n    });\n    d[start] = 0;\n    trace.push({ vertex: start, hint: \"0\", action: VertexHintAction.SET, actionType: AlgorithmActionType.VERTEX_HINT_ACTION });\n\n    for (let i in vertices) {\n        let v = -1;\n        vertices.forEach(j => {\n            if (!used[j] && ((v === -1) || (d[j] < d[v])))\n                v = j;\n        });\n        if (d[v] === Number.MAX_SAFE_INTEGER)\n            break;\n\n        used[v] = true;\n        trace.push({ vertex: v, action: VertexAction.SELECT, actionType: AlgorithmActionType.VERTEX_ACTION });\n\n        for (let {name: to, weight} of adjacencyList[v]) {\n            if (used[to])\n                continue;\n            weight = Number(weight);\n\n            trace.push({ from: v, to, oriented: true, weight, action: EdgeAction.HIGHLIGHT, actionType: AlgorithmActionType.EDGE_ACTION });\n            if (d[v] + weight < d[to]) {\n                d[to] = d[v] + weight;\n                trace.push({ from: v, to, oriented: true, weight, action: EdgeAction.WALK, actionType: AlgorithmActionType.EDGE_ACTION });\n                trace.push({ vertex: to, hint: d[to], action: VertexHintAction.SET, actionType: AlgorithmActionType.VERTEX_HINT_ACTION });\n            } else {\n                trace.push({ from: v, to, oriented: true, weight, action: EdgeAction.UNSELECT, actionType: AlgorithmActionType.EDGE_ACTION });\n            }\n        }\n        trace.push({ vertex: v, action: VertexAction.EXIT, actionType: AlgorithmActionType.VERTEX_ACTION });\n    }\n};\n\nexport default {\n    name: \"Алгоритм Дейкстры\",\n\n    preCall: PreCallAction.SELECT_VERTEX,\n\n    criteria: Criteria.WEIGHTED,\n\n    call: (vertices, edges, start) => {\n        const adjacencyList = edgesListToAdjacencyList(vertices, edges);\n        let used = {};\n        vertices.forEach(vertex => used[vertex.name] = false);\n        let trace = [];\n\n        const startTime = window.performance.now();\n\n        dijkstra(start.name, vertices.map(v => v.name), adjacencyList, used, trace);\n\n        const endTime = window.performance.now();\n        const duration = endTime - startTime;\n\n        return {\n            trace,\n            statistics: [\n                `Время: ${duration.toFixed(4)}мс`,\n                `Кол-во операций: ${trace.length}`\n            ]\n        };\n    }\n};","export const ActionType = Object.freeze({\n    START_MATRIX_DIALOG_FOR_RESULT: 'START_MATRIX_DIALOG_FOR_RESULT',\n    CLOSE_MATRIX_DIALOG: 'CLOSE_MATRIX_DIALOG'\n});\n\nexport const startMatrixDialogForResult = () => ({\n    type: ActionType.START_MATRIX_DIALOG_FOR_RESULT\n});\n\nconst closeMatrixDialog = () => ({\n   type: ActionType.CLOSE_MATRIX_DIALOG\n});\n\nexport const cancelMatrixDialog = (onCancel) => (dispatch) => {\n    if (onCancel)\n        onCancel();\n    dispatch(closeMatrixDialog());\n};\n\nexport const submitMatrixDialog = (onSubmit, result) => (dispatch) => {\n    if (onSubmit)\n        onSubmit(result);\n    dispatch(closeMatrixDialog());\n};","import React from 'react';\nimport classnames from \"classnames/bind\";\nimport styles from \"./Menu.module.scss\";\nimport Draggable from 'react-draggable';\nimport { ButtonComponent } from \"../Buttons/Buttons\";\nimport { SliderComponent } from \"../Sliders/Sliders\";\nimport { DropDownList } from \"../DropDownLists/DropDownLists\";\nimport {\n    changeGraphMode,\n    cleanGraphSelections,\n    closeMessage,\n    invertOrientation,\n    setGraph,\n    showMessage\n} from \"../../actions\";\nimport { connect } from \"react-redux\";\nimport { Graph, GraphMode, vertexRadius } from \"../Graph/Graph\";\nimport { RoundedToggleSwitch } from \"../ToggleSwitches/ToggleSwitches\";\nimport {\n    call,\n    clearStatistics,\n    clearTrace,\n    continueCall,\n    pause,\n    preCall,\n    setAlgorithm,\n    setSpeed\n} from \"../../actions/algorithm\";\nimport DFS from \"../../algorithms/graph/dfs\"\nimport BFS from \"../../algorithms/graph/bfs\"\nimport Dijkstra from \"../../algorithms/graph/dijkstra\"\nimport { Vertex } from \"../Graph/Vertex/Vertex\";\nimport { Edge } from \"../Graph/Edge/Edge\";\nimport { startMatrixDialogForResult } from \"../../actions/matrixDialog\";\n\nconst cx = classnames.bind(styles);\n\nconst minAlgorithmSpeed = 0;\nconst maxAlgorithmSpeed = 1000;\n\nconst mapStateToProps = state => ({\n    graphMode: state.graphReducer.graphMode,\n    isOriented: state.graphReducer.graph.isOriented(),\n    isVisualizationActive: state.algorithmReducer.isActive,\n    visualizationSpeed: state.algorithmReducer.speed,\n    selectedAlgorithm: state.algorithmReducer.algorithm,\n    remainingAlgorithmSteps: state.algorithmReducer.trace.length,\n    graph: state.graphReducer.graph\n});\n\nclass MenuComponent extends React.Component {\n    state = {\n        algorithms: [DFS, BFS, Dijkstra],\n        algorithmPaused: false\n    };\n\n    componentDidMount() {\n        this.props.setAlgorithm(this.state.algorithms[0]);\n        this.props.setSpeed((minAlgorithmSpeed + maxAlgorithmSpeed) / 2);\n    }\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        if (nextProps.graphMode !== this.props.graphMode)\n            return true;\n        if (nextProps.isOriented !== this.props.isOriented)\n            return true;\n        if (nextProps.isVisualizationActive !== this.props.isVisualizationActive)\n            return true;\n        if (nextProps.visualizationSpeed !== this.props.visualizationSpeed)\n            return true;\n        if (nextProps.selectedAlgorithm !== this.props.selectedAlgorithm)\n            return true;\n        if (nextProps.remainingAlgorithmSteps !== this.props.remainingAlgorithmSteps)\n            return true;\n        return false;\n    }\n\n    handleAlgorithmChange = e => {\n        this.clearVisualization();\n        this.props.changeGraphMode(GraphMode.DEFAULT);\n        this.props.closeMessage();\n\n        this.props.setAlgorithm(this.state.algorithms[e.target.value]);\n    };\n\n    startVisualization = () => {\n        if (this.props.remainingAlgorithmSteps === 0) {\n            this.props.cleanGraphSelections();\n            this.props.preCall();\n        } else if (this.props.isVisualizationActive) {\n            this.props.pause();\n            this.setState({ algorithmPaused: true });\n        } else {\n            this.setState({ algorithmPaused: false });\n            this.props.continue();\n        }\n    };\n\n    stepVisualization = () => {\n        if (this.props.remainingAlgorithmSteps === 0) {\n            this.props.cleanGraphSelections();\n            this.props.preCall(true);\n        } else {\n            this.setState({ algorithmPaused: false });\n            this.props.continue(true);\n        }\n    };\n\n    stopVisualization = () => {\n        this.clearVisualization();\n        this.props.closeMessage();\n        this.props.changeGraphMode(GraphMode.DEFAULT);\n    };\n\n    handleAlgorithmSpeedChange = e => {\n        this.props.setSpeed(maxAlgorithmSpeed - e.target.value);\n    };\n\n    askForAction = (message, graphMode) => {\n        this.clearVisualization();\n\n        this.props.showMessage(message);\n        this.props.changeGraphMode(graphMode);\n    };\n\n    closeMessage = () => {\n        this.props.changeGraphMode(GraphMode.DEFAULT);\n        this.props.closeMessage();\n    };\n\n    invertOrientation = () => {\n        this.clearVisualization();\n\n        this.props.invertOrientation();\n    };\n\n    clearVisualization = () => {\n        this.props.pause();\n        this.setState({ algorithmPaused: false });\n        this.props.cleanGraphSelections();\n        this.props.clearTrace();\n        this.props.clearStatistics();\n    };\n\n    writeToFile = () => {\n        this.clearVisualization();\n        this.props.changeGraphMode(GraphMode.DEFAULT);\n\n        const json = JSON.stringify({\n            vertices: this.props.graph.vertices.map(v => ({\n                x: v.x,\n                y: v.y,\n                name: v.name\n            })),\n            edges: this.props.graph.edges.map(e => ({\n                from: e.from.name,\n                to: e.to.name,\n                weight: e.weight\n            })),\n            oriented: this.props.isOriented\n        });\n\n        const exportData = \"data:text/json;charset=utf-8,\" + escape(json);\n        const anchorElement = document.getElementById(\"fileSave\");\n        anchorElement.setAttribute(\"href\", exportData);\n        anchorElement.setAttribute(\"download\", \"graph.json\");\n        anchorElement.click();\n    };\n\n    askReadFromFile = () => {\n        this.clearVisualization();\n        this.props.changeGraphMode(GraphMode.DEFAULT);\n\n        document.getElementById(\"fileLoad\").click();\n    };\n\n    readFromFile = (e) => {\n        const reader = new FileReader();\n        const file = e.target.files[0];\n\n        reader.onload = (e) => {\n            try {\n                const json = JSON.parse(e.target.result);\n\n                const oriented = json.oriented;\n                const vertices = json.vertices.map(v => new Vertex(v.x, v.y, vertexRadius, v.name));\n                const edges = json.edges.map(e =>\n                    new Edge(\n                        vertices.find(v => v.name === e.from),\n                        vertices.find(v => v.name === e.to),\n                        oriented,\n                        e.weight\n                    )\n                );\n\n                const graph = new Graph(oriented, vertices, edges);\n\n                if (oriented !== this.props.isOriented)\n                    this.invertOrientation();\n                this.props.setGraph(graph);\n            } catch (e) {\n                this.props.showMessage(\"Некорректный формат файла\");\n            }\n        };\n\n        reader.readAsText(file);\n        document.getElementById(\"fileLoad\").value = null;\n    };\n\n    showAdjacencyMatrix = () => {\n        this.props.startMatrixDialog();\n    };\n\n    render() {\n        return (\n            <Draggable grid={[4, 4]} bounds={\"body\"} cancel={[\"button\", \"input\", \"select\"]}>\n                <div className={cx(\"menu\")}>\n                    <div className={cx(\"menu-sub\")}>\n                        <div className={cx(\"graph-control-buttons\")}>\n                            <ButtonComponent\n                                text={\"Режим просмотра\"} // TODO: Find proper name\n                                onClick={() => this.closeMessage()}\n                                activated={this.props.graphMode === GraphMode.DEFAULT}/>\n                            <ButtonComponent\n                                text={\"Добавить вершину\"}\n                                onClick={() => this.askForAction(\"Выберите точку для добавления вершины\", GraphMode.ADD_VERTEX)}\n                                activated={this.props.graphMode === GraphMode.ADD_VERTEX}/>\n                            <ButtonComponent\n                                text={\"Добавить ребро\"}\n                                onClick={() => this.askForAction(\"Выберите вершины, которые нужно соединить ребром\", GraphMode.ADD_EDGE)}\n                                activated={this.props.graphMode === GraphMode.ADD_EDGE}/>\n                            <ButtonComponent\n                                text={\"Удалить вершину/ребро\"}\n                                onClick={() => this.askForAction(\"Выберите объект для удаления\", GraphMode.REMOVE_VERTEX_OR_EDGE)}\n                                activated={this.props.graphMode === GraphMode.REMOVE_VERTEX_OR_EDGE}/>\n                        </div>\n                        <RoundedToggleSwitch\n                            className={cx(\"switch\")}\n                            text={\"Ориентированный?\"}\n                            onChange={() => this.invertOrientation()}\n                            isChecked={this.props.isOriented}/>\n                    </div>\n                    <div className={cx(\"menu-sub\")}>\n                        <div className={cx(\"algorithms-list\")}>\n                            <DropDownList\n                                items={this.state.algorithms.map(a => a.name)}\n                                onChange={this.handleAlgorithmChange}/>\n                        </div>\n                        <div className={cx(\"slider\")}>\n                            <SliderComponent\n                                label={\"Скорость анимации\"}\n                                value={maxAlgorithmSpeed - this.props.visualizationSpeed}\n                                min={minAlgorithmSpeed}\n                                max={maxAlgorithmSpeed}\n                                onChange={this.handleAlgorithmSpeedChange}/>\n                        </div>\n                        <div className={cx(\"visualization-control-buttons\")}>\n                            <ButtonComponent\n                                text={this.state.algorithmPaused ? \"Далее\" : (this.props.isVisualizationActive ? \"Пауза\" : \"Старт\")}\n                                onClick={this.startVisualization}/>\n                            <ButtonComponent text={\"Шаг\"} onClick={this.stepVisualization}/>\n                            <ButtonComponent text={\"Стоп\"} onClick={this.stopVisualization}/>\n                        </div>\n                    </div>\n                    <div className={cx(\"menu-sub\")}>\n                        <div className={cx(\"file-control-buttons\")}>\n                            <ButtonComponent\n                                text={\"Сохранить\"}\n                                onClick={() => this.writeToFile()}\n                                activated={false}/>\n                            <a id=\"fileSave\" style={{\"display\": \"none\"}} aria-hidden={true} href=\"/#\">Save graph</a>\n\n                            <ButtonComponent\n                                text={\"Загрузить\"}\n                                onClick={() => this.askReadFromFile()}\n                                activated={false}/>\n                            <input id=\"fileLoad\" type=\"file\" accept=\".json\" style={{\"display\": \"none\"}} onChange={(e) => this.readFromFile(e)}/>\n                        </div>\n                    </div>\n                    <div className={cx(\"menu-sub\")}>\n                        <div className={cx(\"matrix-control-buttons\")}>\n                            <ButtonComponent\n                                text={\"Матрица смежности\"}\n                                onClick={() => this.showAdjacencyMatrix()}\n                                activated={false}/>\n                        </div>\n                    </div>\n                </div>\n            </Draggable>\n        );\n    }\n}\n\nconst mapDispatchToProps = dispatch => ({\n    changeGraphMode: (graphMode) => dispatch(changeGraphMode(graphMode)),\n    showMessage: (message) => dispatch(showMessage(message)),\n    closeMessage: () => dispatch(closeMessage()),\n    invertOrientation: () => dispatch(invertOrientation()),\n    setAlgorithm: (algorithm) => dispatch(setAlgorithm(algorithm)),\n    setSpeed: (speed) => dispatch(setSpeed(speed)),\n    preCall: (isOneStep) => dispatch(preCall(isOneStep)),\n    call: () => dispatch(call()),\n    pause: () => dispatch(pause()),\n    continue: (isOneStep) => dispatch(continueCall(isOneStep)),\n    cleanGraphSelections: () => dispatch(cleanGraphSelections()),\n    clearTrace: () => dispatch(clearTrace()),\n    clearStatistics: () => dispatch(clearStatistics()),\n    setGraph: (graph) => dispatch(setGraph(graph)),\n    startMatrixDialog: () => dispatch(startMatrixDialogForResult())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuComponent);","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport styles from \"./MessageBox.module.scss\";\nimport { connect } from \"react-redux\";\n\nconst cx = classnames.bind(styles);\n\nconst mapStateToProps = state => ({\n    message: state.graphReducer.message,\n    isAlert: state.graphReducer.isAlert\n});\n\nconst MessageBox = ({ message, isAlert }) => {\n    return (\n        <div className={cx(\"message-box\", {[`invisible`]: message === undefined}, {[`alert`]: isAlert})}>\n            {message}\n        </div>\n    );\n};\n\nexport default connect(mapStateToProps)(MessageBox);","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport styles from \"./TextInputs.module.scss\";\n\nconst cx = classnames.bind(styles);\n\nexport const TextInputComponent = ({ value, placeholder, onChange, pattern, className, autoFocus = false }) => {\n    return (\n        <input\n            className={cx(\"text-input\", className)}\n            type=\"text\"\n            pattern={pattern}\n            value={value}\n            onChange={onChange}\n            placeholder={placeholder}\n            autoFocus={autoFocus}/>\n    );\n};","import Modal from \"react-modal\";\nimport React from \"react\";\nimport classnames from \"classnames/bind\";\nimport styles from \"./InputDialog.module.scss\";\nimport { cancelDialog, submitDialog } from \"../../../actions/dialog\";\nimport { connect } from \"react-redux\";\nimport { ButtonComponent } from \"../../Buttons/Buttons\";\nimport { TextInputComponent } from \"../../TextInputs/TextInputs\";\n\nconst cx = classnames.bind(styles);\n\nconst customStyles = {\n    overlay: {zIndex: 100000}\n};\n\nconst mapStateToProps = state => ({\n    isOpen: state.dialogReducer.isOpen,\n    title: state.dialogReducer.title,\n    text: state.dialogReducer.text,\n    hint: state.dialogReducer.hint,\n    inputPlaceholder: state.dialogReducer.inputPlaceholder,\n    pattern: state.dialogReducer.pattern,\n    onSubmit: state.dialogReducer.onSubmit,\n    onCancel: state.dialogReducer.onCancel\n});\n\nclass InputDialog extends React.Component {\n    state = {\n        value: \"\"\n    };\n\n    handleChange = (e) => {\n        if (e.target.validity.valid)\n            this.setState({ value: e.target.value });\n    };\n\n    submit = (e) => {\n        e.preventDefault();\n        this.setState({ value: \"\" });\n        this.props.submitDialog(this.props.onSubmit, this.state.value);\n    };\n\n    cancel = () => {\n        this.setState({ value: \"\" });\n        this.props.cancelDialog(this.props.onCancel);\n    };\n\n    render() {\n        return (\n            <Modal\n                isOpen={this.props.isOpen}\n                onRequestClose={() => {\n                    this.setState({ value: \"\" });\n                    this.props.cancelDialog(this.props.onCancel);\n                }}\n                ariaHideApp={false}\n                className={cx(\"input-dialog\")}\n                style={customStyles}>\n\n                <h2>{this.props.title}</h2>\n                <div>{this.props.text}</div>\n                <form onSubmit={(e) => this.submit(e)}>\n                    <TextInputComponent\n                        autoFocus={true}\n                        className={cx(\"text-input\")}\n                        placeholder={this.props.inputPlaceholder}\n                        pattern={this.props.pattern}\n                        onChange={this.handleChange}\n                        value={this.state.value}/>\n\n                    <ButtonComponent\n                        type={\"submit\"}\n                        className={cx(\"button\")}\n                        text={\"Ок\"}\n                        onClick={(e) => this.submit(e)}/>\n                    <ButtonComponent\n                        className={cx(\"button\")}\n                        text={\"Отмена\"}\n                        onClick={() => this.cancel()}/>\n                </form>\n\n                <div className={cx(\"hint\")}>{this.props.hint}</div>\n            </Modal>\n        );\n    }\n}\n\nconst mapDispatchToProps = dispatch => ({\n    submitDialog: (onSubmit, result) => dispatch(submitDialog(onSubmit, result)),\n    cancelDialog: (onCancel) => dispatch(cancelDialog(onCancel))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InputDialog);","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport styles from \"./InfoBox.module.scss\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nconst cx = classnames.bind(styles);\n\nconst mapStateToProps = state => ({\n    lines: state.algorithmReducer.statistics\n});\n\nconst InfoBox = ({ lines }) => {\n    return (\n        <div className={cx(\"info-box\", {[`invisible`]: !(Array.isArray(lines) && lines.length)})}>\n            {lines.map((line, index) => <div className={cx(\"text\")} key={index}>{line}</div>)}\n        </div>\n    );\n};\n\nInfoBox.propTypes = {\n    lines: PropTypes.arrayOf(PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n        PropTypes.symbol,\n        PropTypes.bool\n    ]))\n};\n\nexport default connect(mapStateToProps)(InfoBox);","import React from \"react\";\nimport classnames from \"classnames/bind\";\nimport styles from \"./AdjacencyMatrix.module.scss\";\nimport { edgesListToAdjacencyMatrix } from \"../../../utils/graphConverter\";\n\nconst cx = classnames.bind(styles);\n\nconst MatrixCell = ({ cell, topLeft, topRight, bottomLeft, bottomRight }) => {\n    return (\n        <div className={cx(\"matrix-cell\", {[`empty`]: !cell},\n            {[`non-weighted`]: cell && !cell.weighted},\n            {[`top-left-cell`]: topLeft},\n            {[`top-right-cell`]: topRight},\n            {[`bottom-left-cell`]: bottomLeft},\n            {[`bottom-right-cell`]: bottomRight})}>\n            {cell ? (cell.weighted ? cell.weight : \"+\") : \"X\"}\n        </div>\n    );\n};\n\nconst MatrixRow = ({ row, first, last, vertexNumber }) => {\n    return (\n        <div className={cx(\"matrix-row\")}>\n            <div className={cx(\"label-cell\")}>{vertexNumber}</div>\n            {row.map((cell, index) =>\n                <MatrixCell\n                    cell={cell}\n                    topLeft={(index === 0) && first}\n                    topRight={(index + 1 === row.length) && first}\n                    bottomLeft={(index === 0) && last}\n                    bottomRight={(index + 1 === row.length) && last}/>)\n            }\n        </div>\n    );\n};\n\nconst AdjacencyMatrix = ({ graph }) => {\n    const {adjacencyMatrix, verticesNumbers} = edgesListToAdjacencyMatrix(graph.vertices, graph.edges);\n    return (\n        <div className={cx(\"matrix\")}>\n            <div className={cx(\"label-cell\")}>{\" \"}</div>\n            {verticesNumbers.map(v => <div className={cx(\"label-cell\")}>{v}</div>)}\n            {adjacencyMatrix.map((row, index) =>\n                <MatrixRow\n                    row={row}\n                    first={index === 0}\n                    last={index + 1 === graph.vertices.length}\n                    vertexNumber={verticesNumbers[index]}/>)\n            }\n        </div>\n    );\n};\n\nexport default AdjacencyMatrix;","import Modal from \"react-modal\";\nimport React from \"react\";\nimport classnames from \"classnames/bind\";\nimport styles from \"./MatrixDialog.module.scss\";\nimport { connect } from \"react-redux\";\nimport { ButtonComponent } from \"../../Buttons/Buttons\";\nimport { edgesListToAdjacencyMatrix } from \"../../../utils/graphConverter\";\nimport { cancelMatrixDialog, submitMatrixDialog } from \"../../../actions/matrixDialog\";\nimport AdjacencyMatrix from \"./AdjacencyMatrix\";\n\nconst cx = classnames.bind(styles);\n\nconst customStyles = {\n    overlay: {zIndex: 100000}\n};\n\nconst mapStateToProps = state => ({\n    isOpen: state.matrixDialogReducer.isOpen,\n    graph: state.graphReducer.graph\n});\n\nclass MatrixDialog extends React.Component {\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        if (!this.props.isOpen && !nextProps.isOpen)\n            return false;\n        return true;\n    }\n\n    writeToFile = () => {\n        let {adjacencyMatrix} = edgesListToAdjacencyMatrix(this.props.graph.vertices, this.props.graph.edges);\n\n        adjacencyMatrix = adjacencyMatrix.map(row => row.map(cell => cell ? (cell.weighted ? cell.weight : \"+\") : \"X\"));\n        adjacencyMatrix = adjacencyMatrix.reduce((prev, arr) => prev + arr.reduce((line, cell) => line + cell + \" \", \"\") + \"\\n\", \"\");\n\n        const exportData = \"data:text/plain;charset=utf-8,\" + escape(adjacencyMatrix);\n        const anchorElement = document.getElementById(\"fileSave\");\n        anchorElement.setAttribute(\"href\", exportData);\n        anchorElement.setAttribute(\"download\", \"adjacencyMatrix.txt\");\n        anchorElement.click();\n    };\n\n    cancel = () => {\n        this.props.cancelDialog(null);\n    };\n\n    render() {\n        return (\n            <Modal\n                isOpen={this.props.isOpen}\n                onRequestClose={() => this.cancel()}\n                ariaHideApp={false}\n                className={cx(\"matrix-dialog\")}\n                style={customStyles}>\n\n                <AdjacencyMatrix graph={this.props.graph}/>\n\n                <ButtonComponent\n                    type={\"submit\"}\n                    className={cx(\"button\")}\n                    text={\"Сохранить в файл\"}\n                    onClick={() => this.writeToFile()}/>\n                <a id=\"fileSave\" style={{\"display\": \"none\"}} aria-hidden={true} href=\"/#\">Save matrix</a>\n\n                <ButtonComponent\n                    className={cx(\"button\")}\n                    text={\"Закрыть\"}\n                    onClick={() => this.cancel()}/>\n            </Modal>\n        );\n    }\n}\n\nconst mapDispatchToProps = dispatch => ({\n    submitDialog: (onSubmit, result) => dispatch(submitMatrixDialog(onSubmit, result)),\n    cancelDialog: (onCancel) => dispatch(cancelMatrixDialog(onCancel))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MatrixDialog);","import React from 'react';\nimport classnames from \"classnames/bind\";\nimport styles from \"./App.module.scss\";\nimport PlainGraph from \"./PlainGraph/PlainGraph\";\nimport GraphComponent from \"./Graph/Graph\";\nimport MenuComponent from \"./Menu/Menu\";\nimport MessageBox from \"./MessageBox/MessageBox\";\nimport InputDialog from \"./Dialogs/InputDialog/InputDialog\";\nimport InfoBox from \"./InfoBox/InfoBox\";\nimport MatrixDialog from \"./Dialogs/MatrixDialog/MatrixDialog\";\n\nconst cx = classnames.bind(styles);\n\nconst App = () => (\n    <div className={cx(\"app\")}>\n        <MenuComponent/>\n        <GraphComponent/>\n        <MessageBox/>\n        <InfoBox/>\n        <InputDialog/>\n        <MatrixDialog/>\n    </div>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ActionType } from \"../actions/dialog\";\nimport React from \"react\";\n\nconst defaultState = {\n    isOpen: false,\n    title: \"\",\n    text: \"\",\n    hint: \"\",\n    inputPlaceholder: \"\",\n    onSubmit: null,\n    onClose: null,\n    pattern: \".*\"\n};\n\nconst dialog = (state = defaultState, action) => {\n    let newState;\n    switch (action.type) {\n        case ActionType.START_DIALOG_FOR_RESULT:\n            newState = {\n                ...state,\n                isOpen: true,\n                title: action.title,\n                text: action.text,\n                hint: action.hint,\n                inputPlaceholder: action.inputPlaceholder,\n                pattern: action.pattern\n            };\n\n            newState.onSubmit = (value) => {\n                const onSubmit = action.onSubmit;\n                if (onSubmit)\n                    onSubmit(value);\n            };\n            newState.onCancel = () => {\n                const onCancel = action.onCancel;\n                if (onCancel)\n                    onCancel();\n            };\n\n            return newState;\n        case ActionType.CLOSE_DIALOG:\n            return defaultState;\n        default:\n            return state;\n    }\n};\n\nexport default dialog;","import { ActionType } from \"../actions/algorithm\";\nimport React from \"react\";\nimport { PreCallAction } from \"../algorithms/graph/index\";\n\nconst defaultState = {\n    trace: [],\n    isActive: false,\n    algorithm: null,\n    speed: 1000,\n    isOneStep: false,\n    statistics: []\n};\n\nconst algorithm = (state = defaultState, action) => {\n    let newState;\n    switch (action.type) {\n        case ActionType.CALL:\n            newState = {\n                ...state\n            };\n\n            const preCall = state.algorithm.preCall;\n            const vertices = action.graph.vertices;\n            const edges = action.graph.edges;\n            let result;\n            if (preCall === PreCallAction.SELECT_VERTEX) {\n                result = state.algorithm.call(vertices, edges, action.vertex);\n            } else if (preCall === PreCallAction.SELECT_EDGE) {\n                result = state.algorithm.call(vertices, edges, action.edge);\n            }\n            newState.trace = result.trace;\n            newState.statistics = result.statistics;\n\n            return newState;\n        case ActionType.POP_TRACE_STEP:\n            newState = {\n                ...state,\n                trace: [...state.trace]\n            };\n\n            newState.trace.shift();\n\n            return newState;\n        case ActionType.START:\n            return {\n                ...state,\n                isActive: true\n            };\n        case ActionType.PAUSE:\n            return {\n                ...state,\n                isActive: false\n            };\n        case ActionType.SET_ALGORITHM:\n            return {\n                ...state,\n                algorithm: action.algorithm\n            };\n        case ActionType.SET_SPEED:\n            return {\n                ...state,\n                speed: action.speed\n            };\n        case ActionType.SET_IS_ONE_STEP:\n            return {\n                ...state,\n                isOneStep: action.isOneStep\n            };\n        case ActionType.CLEAR_TRACE:\n            return {\n                ...state,\n                trace: []\n            };\n        case ActionType.CLEAR_STATISTICS:\n            return {\n                ...state,\n                statistics: []\n            };\n        default:\n            return state;\n    }\n};\n\nexport default algorithm;","import { ActionType } from \"../actions/matrixDialog\";\nimport React from \"react\";\n\nconst defaultState = {\n    isOpen: false\n};\n\nconst matrixDialog = (state = defaultState, action) => {\n    switch (action.type) {\n        case ActionType.START_MATRIX_DIALOG_FOR_RESULT:\n            return {\n                ...state,\n                isOpen: true\n            };\n        case ActionType.CLOSE_MATRIX_DIALOG:\n            return defaultState;\n        default:\n            return state;\n    }\n};\n\nexport default matrixDialog;","import { Graph, GraphMode } from \"../components/Graph/Graph\";\nimport { ActionType } from \"../actions\";\nimport { VertexHintState, VertexState } from \"../components/Graph/Vertex/Vertex\";\nimport { combineReducers } from \"redux\";\nimport dialog from \"./dialog\";\nimport algorithm from \"./algorithm\";\nimport matrixDialog from \"./matrixDialog\";\nimport { AlgorithmActionType, EdgeAction, VertexAction, VertexHintAction } from \"../algorithms/graph\";\nimport { EdgeState } from \"../components/Graph/Edge/Edge\";\n\nconst defaultState = {\n    graph: new Graph(false),\n    message: undefined,\n    isAlert: false,\n    graphMode: GraphMode.DEFAULT,\n    selectedVertex: undefined // For 'ADD_EDGE' // TODO: Do 'ADD_EDGE' in a cleaner way\n};\n\nconst clone = object => {\n    return Object.assign( Object.create( Object.getPrototypeOf(object)), object);\n};\n\nconst unselectSelectedVertex = (state) => {\n    if (state.selectedVertex !== undefined) {\n        const i = state.graph.vertices.findIndex(v => v === state.selectedVertex);\n        if (i !== -1)\n            state.graph.vertices[i].state = VertexState.DEFAULT;\n        state.selectedVertex = undefined;\n    }\n};\n\nconst updateVertexByAction = (vertex, action) => {\n    switch (action) {\n        case VertexAction.SELECT:\n            vertex.state = VertexState.HIGHLIGHTED;\n            break;\n        case VertexAction.ENTER:\n            vertex.state = VertexState.PRE_COMPLETED;\n            break;\n        case VertexAction.EXIT:\n            vertex.state = VertexState.COMPLETED;\n            break;\n        case VertexAction.UNSELECT:\n            vertex.state = VertexState.DEFAULT;\n            break;\n        default:\n    }\n};\n\nconst updateEdgeByAction = (edge, action) => {\n    switch (action) {\n        case EdgeAction.WALK:\n            edge.state = EdgeState.WALKED;\n            break;\n        case EdgeAction.HIGHLIGHT:\n            edge.state = EdgeState.HIGHLIGHTED;\n            break;\n        default:\n    }\n};\n\nconst updateVertexHintByAction = (vertex, action) => {\n    switch (action) {\n        case VertexHintAction.REMOVE:\n            vertex.hintState = VertexHintState.CLEAR;\n            break;\n        case VertexHintAction.SET:\n            vertex.hintState = VertexHintState.DEFAULT;\n            break;\n        case VertexHintAction.HIGHLIGHT:\n            vertex.hintState = VertexHintState.HIGHLIGHTED;\n            break;\n        default:\n    }\n};\n\nconst cleanGraphSelections = (state) => {\n    state.graph.vertices.forEach(v => {\n        v.state = VertexState.DEFAULT;\n        v.hintState = VertexHintState.CLEAR;\n        v.hint = \"\";\n    });\n    state.graph.edges.forEach(e => e.state = EdgeState.DEFAULT);\n    state.graph.visualizationEdges = [];\n    state.selectedVertex = undefined;\n};\n\nconst reducer = (state = defaultState, action) => {\n    let newState;\n    let i;\n    switch (action.type) {\n        case ActionType.ADD_VERTEX:\n            newState = {\n                ...state,\n                graph: clone(state.graph)\n            };\n\n            newState.graph.addVertex(action.x, action.y, action.radius);\n\n            return newState;\n        case ActionType.ADD_EDGE:\n            newState = {\n                ...state,\n                graph: clone(state.graph)\n            };\n\n            newState.graph.addEdge(action.vertexFrom, action.vertexTo, action.weight);\n\n            return newState;\n        case ActionType.REMOVE_VERTEX:\n            newState = {\n                ...state,\n                graph: clone(state.graph)\n            };\n\n            newState.graph.removeVertex(action.vertex);\n\n            return newState;\n        case ActionType.REMOVE_EDGE:\n            newState = {\n                ...state,\n                graph: clone(state.graph)\n            };\n\n            newState.graph.removeEdge(action.edge);\n\n            return newState;\n        case ActionType.UPDATE_VERTEX_POSITION:\n            newState = {\n                ...state,\n                graph: clone(state.graph)\n            };\n\n            newState.graph.vertices[action.vertexIndex].x = action.x;\n            newState.graph.vertices[action.vertexIndex].y = action.y;\n\n            return newState;\n        case ActionType.CHANGE_GRAPH_MODE:\n            newState = {\n                ...state,\n                graph: clone(state.graph)\n            };\n\n            if (action.graphMode !== newState.graphMode) {\n                newState.graphMode = action.graphMode;\n\n                unselectSelectedVertex(newState);\n            }\n\n            return newState;\n        case ActionType.SELECT_VERTEX:\n            newState = {\n                ...state,\n                graph: clone(state.graph)\n            };\n\n            unselectSelectedVertex(newState);\n\n            i = newState.graph.vertices.findIndex(v => v === action.vertex);\n            if (i !== -1) {\n                newState.graph.vertices[i].state = VertexState.HIGHLIGHTED;\n                newState.selectedVertex = action.vertex;\n            }\n\n            return newState;\n        case ActionType.UNSELECT_VERTEX:\n            newState = {\n                ...state,\n                graph: clone(state.graph)\n            };\n\n            unselectSelectedVertex(newState);\n\n            return newState;\n        case ActionType.SHOW_MESSAGE:\n            return {\n                ...state,\n                message: action.message,\n                isAlert: action.isAlert\n            };\n        case ActionType.CLOSE_MESSAGE:\n            return {\n                ...state,\n                message: undefined,\n                isAlert: false\n            };\n        case ActionType.INVERT_ORIENTATION:\n            newState = {\n                ...state,\n                graph: clone(state.graph)\n            };\n\n            newState.graph.invertOrientation();\n\n            return newState;\n        case ActionType.ALGORITHM_STEP:\n            newState = {\n                ...state,\n                graph: clone(state.graph)\n            };\n\n            const step = action.step;\n            if (step.actionType === AlgorithmActionType.VERTEX_ACTION) {\n                const vertex = newState.graph.vertices.find(v => v.name === step.vertex);\n                if (vertex)\n                    updateVertexByAction(vertex, step.action);\n            } else if (step.actionType === AlgorithmActionType.EDGE_ACTION) {\n                const vertexFrom = newState.graph.vertices.find(v => v.name === step.from);\n                const vertexTo = newState.graph.vertices.find(v => v.name === step.to);\n                if (step.action === EdgeAction.UNSELECT) {\n                    newState.graph.removeVisualizationEdgeByVertices(vertexFrom, vertexTo, step.oriented);\n                } else {\n                    const edge = newState.graph.addVisualizationEdge(vertexFrom, vertexTo, step.oriented, step.weight);\n                    updateEdgeByAction(edge, step.action);\n                }\n            } else if (step.actionType === AlgorithmActionType.VERTEX_HINT_ACTION) {\n                const vertex = newState.graph.vertices.find(v => v.name === step.vertex);\n                if (vertex) {\n                    if (step.action === VertexHintAction.REMOVE)\n                        vertex.hint = \"\";\n                    else\n                        vertex.hint = step.hint;\n                    updateVertexHintByAction(vertex, step.action);\n                }\n            }\n\n            return newState;\n        case ActionType.CLEAN_GRAPH_SELECTIONS:\n            newState = {\n                ...state,\n                graph: clone(state.graph)\n            };\n\n            cleanGraphSelections(newState);\n\n            return newState;\n        case ActionType.SET_GRAPH:\n            return {\n                ...state,\n                graph: action.graph\n            };\n        default:\n            return state;\n    }\n};\n\nexport default combineReducers({\n    graphReducer: reducer,\n    dialogReducer: dialog,\n    algorithmReducer: algorithm,\n    matrixDialogReducer: matrixDialog\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from \"react-redux\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport rootReducer from \"./reducers/index\";\nimport thunk from \"redux-thunk\";\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2at_H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"plain_graph\":\"PlainGraph_plain_graph__132cd\",\"drawing_area\":\"PlainGraph_drawing_area__poiJd\",\"cell\":\"PlainGraph_cell__2tDfs\",\"cell-blocked\":\"PlainGraph_cell-blocked__13I9p\",\"cell-path\":\"PlainGraph_cell-path__1JSUa\",\"cell-start\":\"PlainGraph_cell-start__2FTb6\",\"cell-finish\":\"PlainGraph_cell-finish__2icJo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__2xbQm\",\"menu-sub\":\"Menu_menu-sub__2jhA1\",\"graph-control-buttons\":\"Menu_graph-control-buttons__2CY62\",\"switch\":\"Menu_switch__3Y97k\",\"visualization-control-buttons\":\"Menu_visualization-control-buttons__1OTXW\",\"file-control-buttons\":\"Menu_file-control-buttons__3PmTU\",\"algorithms-list\":\"Menu_algorithms-list__2mwx1\",\"slider\":\"Menu_slider__RA1Ez\",\"matrix-control-buttons\":\"Menu_matrix-control-buttons__26fCf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Buttons_button__1L6GG\",\"activated\":\"Buttons_activated__EZOmF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider-wrapper\":\"Sliders_slider-wrapper__GIw-8\",\"slider-label\":\"Sliders_slider-label__1w08l\",\"slider\":\"Sliders_slider__1gqJy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"drop-down-list\":\"DropDownLists_drop-down-list__ix94o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switch-round-wrapper\":\"ToggleSwitches_switch-round-wrapper__g2bxh\",\"switch-round\":\"ToggleSwitches_switch-round__1bQ1T\",\"slider\":\"ToggleSwitches_slider__Q-bUA\",\"text\":\"ToggleSwitches_text__1sKta\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message-box\":\"MessageBox_message-box__2uEgD\",\"invisible\":\"MessageBox_invisible__10Wwp\",\"alert\":\"MessageBox_alert__14QTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input-dialog\":\"InputDialog_input-dialog__2SLyF\",\"text-input\":\"InputDialog_text-input__2zjdU\",\"button\":\"InputDialog_button__1ZFHJ\",\"hint\":\"InputDialog_hint__1ftkv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text-input\":\"TextInputs_text-input__3mPdK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info-box\":\"InfoBox_info-box__3t_A2\",\"text\":\"InfoBox_text__sgPCj\",\"invisible\":\"InfoBox_invisible__1un1A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"matrix-dialog\":\"MatrixDialog_matrix-dialog__2YGd3\",\"button\":\"MatrixDialog_button__3KxWd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"matrix\":\"AdjacencyMatrix_matrix__3b96v\",\"matrix-row\":\"AdjacencyMatrix_matrix-row__3vHpl\",\"top-left-cell\":\"AdjacencyMatrix_top-left-cell__1-lFt\",\"top-right-cell\":\"AdjacencyMatrix_top-right-cell__1RYRb\",\"bottom-left-cell\":\"AdjacencyMatrix_bottom-left-cell__23nQC\",\"bottom-right-cell\":\"AdjacencyMatrix_bottom-right-cell__2r29f\",\"matrix-cell\":\"AdjacencyMatrix_matrix-cell__2Z91s\",\"label-cell\":\"AdjacencyMatrix_label-cell__3YJYr\",\"empty\":\"AdjacencyMatrix_empty__3-1PZ\"};"],"sourceRoot":""}